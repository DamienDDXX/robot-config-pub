(function(e){function t(t){for(var r,a,s=t[0],l=t[1],f=t[2],m=t[3]||[],d=0,v=[];d<s.length;d++)a=s[d],o[a]&&v.push(o[a][0]),o[a]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);p&&p(t);var g=document.getElementsByTagName("head")[0];m.forEach(function(e){if(void 0===o[e]){o[e]=null;var t=document.createElement("link");c.nc&&t.setAttribute("nonce",c.nc),t.rel="prefetch",t.as="script",t.href=u(e),g.appendChild(t)}});while(v.length)v.shift()();return i.push.apply(i,f||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,a=1;a<n.length;a++){var u=n[a];0!==o[u]&&(r=!1)}r&&(i.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},a={app:0},o={app:0},i=[];function u(e){return c.p+"js/"+({pages:"pages"}[e]||e)+"."+{pages:"1972c7ca"}[e]+".js"}function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n={pages:1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise(function(t,n){for(var r="css/"+({pages:"pages"}[e]||e)+"."+{pages:"2f5eb032"}[e]+".css",o=c.p+r,i=document.getElementsByTagName("link"),u=0;u<i.length;u++){var s=i[u],l=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(l===r||l===o))return t()}var f=document.getElementsByTagName("style");for(u=0;u<f.length;u++){s=f[u],l=s.getAttribute("data-href");if(l===r||l===o)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var r=t&&t.target&&t.target.src||o,i=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");i.request=r,delete a[e],p.parentNode.removeChild(p),n(i)},p.href=o;var m=document.getElementsByTagName("head")[0];m.appendChild(p)}).then(function(){a[e]=0}));var r=o[e];if(0!==r)if(r)t.push(r[2]);else{var i=new Promise(function(t,n){r=o[e]=[t,n]});t.push(r[2]=i);var s,l=document.getElementsByTagName("head")[0],f=document.createElement("script");f.charset="utf-8",f.timeout=120,c.nc&&f.setAttribute("nonce",c.nc),f.src=u(e),s=function(t){f.onerror=f.onload=null,clearTimeout(p);var n=o[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src,i=new Error("Loading chunk "+e+" failed.\n("+r+": "+a+")");i.type=r,i.request=a,n[1](i)}o[e]=void 0}};var p=setTimeout(function(){s({type:"timeout",target:f})},12e4);f.onerror=f.onload=s,l.appendChild(f)}return Promise.all(t)},c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/",c.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var f=0;f<s.length;f++)t(s[f]);var p=l;t([[],{},0,["pages"]]),i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0d0d":function(e,t,n){"use strict";var r=n("d259"),a=n.n(r);a.a},"263c":function(e,t,n){"use strict";var r=n("5e14"),a=n.n(r);a.a},"3ca2":function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("91d1");function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}var u="AUTH_TOKEN",c="USER_NAME",s=function(){function e(){a(this,e)}return i(e,null,[{key:"isLoggedIn",value:function(){return!!e.getAuthToken()}},{key:"getAuthToken",value:function(){return r["a"].getItem(u)}},{key:"getLoggedUserName",value:function(){return r["a"].getItem(c)}}]),e}()},"458f":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);var r=n("bc3a"),a=n.n(r),o=n("2b0e"),i=n("5c96"),u=n.n(i),c=n("0665"),s=n.n(c),l=n("3ca2"),f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("router-view")},p=[],m={name:"App",mounted:function(){var e=document.getElementById("skeleton");e&&document.body.removeChild(e)}},d=m,v=(n("5c0b"),n("2877")),g=Object(v["a"])(d,f,p,!1,null,null,null);g.options.__file="App.vue";var h=g.exports,b=n("8c4f"),y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"main-page"},[n("navigation",{staticClass:"top-bar"}),n("main",{staticClass:"main"},[n("div",{staticClass:"row device-info"},[n("span",{staticClass:"sn"},[e._v("设备序列号： "+e._s(e.seriesNumber))]),n("el-button",{staticClass:"restart",attrs:{type:"danger",icon:"el-icon-refresh-left"}},[e._v("系统重启")])],1),n("div",{staticClass:"row sections"},e._l(e.sections,function(t,r){return n("div",{key:r,staticClass:"section"},[n("div",{staticClass:"row title-container"},[n("eva-icon",{attrs:{name:t.icon,fill:"#00e"}}),n("router-link",{staticClass:"title link",attrs:{to:{name:t.routeName}}},[e._v(e._s(t.title))])],1),n("div",{staticClass:"desc"},[e._v("\n          "+e._s(t.desc)+"\n        ")])])}))])],1)},w=[],_=n("a34a"),k=n.n(_),C=n("f4dd");function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,t,n){return t&&N(e.prototype,t),n&&N(e,n),e}var P=function(){function e(){E(this,e)}return I(e,null,[{key:"getDeviceInfo",value:function(){return a.a.get("/api/device").then(function(e){return e.data})}}]),e}();function T(e,t,n,r,a,o,i){try{var u=e[o](i),c=u.value}catch(s){return void n(s)}u.done?t(c):Promise.resolve(c).then(r,a)}function j(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){T(o,r,a,i,u,"next",e)}function u(e){T(o,r,a,i,u,"throw",e)}i(void 0)})}}var A={data:function(){return{seriesNumber:"",sections:[{title:"系统服务器",desc:"配置、查看和修改服务器地址……",icon:"grid",routeName:"server-page"},{title:"无线网络",desc:"扫描、查看和修改无线网络连接……",icon:"wifi",routeName:"wifi-page"},{title:"蓝牙手环",desc:"扫描、连接和管理蓝牙手环……",icon:"bluetooth",routeName:"bracelet-page"},{title:"其它设置",desc:"设置摄像头分辨率、位置坐标……",icon:"settings-2",routeName:"settings-page"},{title:"功能测试",desc:"测试扬声器、麦克风、液晶屏、摄像头和按键……",icon:"smartphone",routeName:"test-page"}]}},created:function(){var e=j(k.a.mark(function e(){var t;return k.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.getDeviceInfo();case 3:t=e.sent,this.seriesNumber=t.seriesNumber,e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),this.$message({message:"获取设备序列号失败",type:"error"});case 10:case"end":return e.stop()}},e,this,[[0,7]])}));function t(){return e.apply(this,arguments)}return t}(),components:{Navigation:C["a"]}},O=A,x=(n("263c"),Object(v["a"])(O,y,w,!1,null,"aec58a48",null));x.options.__file="MainPage.vue";var S=x.exports,U=n("323e"),M=n.n(U),$=function(){return n.e("pages").then(n.bind(null,"48ca"))},q=function(){return n.e("pages").then(n.bind(null,"b82a"))},B=function(){return n.e("pages").then(n.bind(null,"1479"))},L=function(){return n.e("pages").then(n.bind(null,"7782"))},R=function(){return n.e("pages").then(n.bind(null,"5c37"))},H=function(){return n.e("pages").then(n.bind(null,"7454"))},D=function(){return n.e("pages").then(n.bind(null,"f9a7"))},J=function(){return n.e("pages").then(n.bind(null,"c0e7"))},K=function(){return n.e("pages").then(n.bind(null,"22e1"))},z=function(){return n.e("pages").then(n.bind(null,"8d29"))},F=function(){return n.e("pages").then(n.bind(null,"ce80"))},G=function(){return n.e("pages").then(n.bind(null,"aa93"))};o["default"].use(b["a"]);var Q=new b["a"]({routes:[{path:"/",name:"main-page",component:S,meta:{requiresAuth:!0}},{path:"",component:B,meta:{requiresAuth:!0},children:[{path:"bracelet",name:"bracelet-page",component:q},{path:"server",name:"server-page",component:L},{path:"settings",name:"settings-page",component:R},{path:"wifi",name:"wifi-page",component:D},{path:"test",name:"test-page",component:H},{path:"test/audio",name:"audio-page",component:J},{path:"test/camera",name:"camera-page",component:K},{path:"test/keypad",name:"keypad-page",component:z},{path:"test/monitor",name:"monitor-page",component:F},{path:"test/radio",name:"radio-page",component:G}]},{path:"/login",name:"login-page",component:$}]});Q.beforeEach(function(e,t,n){e.matched.some(function(e){return e.meta.requiresAuth})?l["a"].isLoggedIn()?(M.a.start(),n()):n({path:"/login",query:{redirect:e.fullPath}}):(M.a.start(),n())}),Q.afterEach(function(){M.a.done()});var V=Q;n("abe2");o["default"].use(u.a),o["default"].use(s.a),o["default"].config.productionTip=!1,o["default"].prototype.$message=u.a.Message,o["default"].prototype.$confirm=u.a.MessageBox.confirm,a.a.interceptors.request.use(function(e){if(-1===e.url.indexOf("/api/login")){var t=l["a"].getAuthToken();t&&(e.headers.Authorization=t)}return e}),a.a.interceptors.response.use(function(e){return e},function(e){if(401===e.response.status){var t=V.currentRoute.fullPath;-1===t.indexOf("/login")&&V.push({path:"/login",query:{redirect:t}})}return Promise.reject(e)}),window.eventBus=new o["default"],new o["default"]({router:V,render:function(e){return e(h)}}).$mount("#app")},"5b1c":function(e,t,n){e.exports=n.p+"img/logo.10332b79.svg"},"5c0b":function(e,t,n){"use strict";var r=n("458f"),a=n.n(r);a.a},"5c8f":function(e,t,n){"use strict";var r=n("ce55"),a=n.n(r);a.a},"5e14":function(e,t,n){},"6ab3":function(e,t,n){},"855a":function(e,t,n){"use strict";var r=n("6ab3"),a=n.n(r);a.a},"91d1":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}n.d(t,"a",function(){return i});var i=function(){function e(){r(this,e)}return o(e,null,[{key:"available",value:function(){var e="test";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(t){return!1}}},{key:"getItem",value:function(t){return e.available()?localStorage.getItem(t):null}},{key:"setItem",value:function(t,n){e.available()&&localStorage.setItem(t,n)}},{key:"removeItem",value:function(t){e.available()&&localStorage.removeItem(t)}}]),e}()},"9ce6":function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n("bc3a"),a=n.n(r),o=n("91d1");function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}var s="AUTH_TOKEN",l="USER_NAME",f="USER_AUTH_INFO",p=function(){function e(){i(this,e)}return c(e,null,[{key:"login",value:function(e,t){return a.a.post("/api/login",{username:e,password:t},{headers:{"Content-Type":"application/json"}}).then(function(t){return o["a"].setItem(s,t.data.token),o["a"].setItem(l,e),Promise.resolve(t)},function(e){return o["a"].removeItem(s),o["a"].removeItem(l),Promise.reject(e)})}},{key:"logout",value:function(){return a.a.delete("/api/logout").then(function(e){return o["a"].removeItem(s),o["a"].removeItem(l),o["a"].removeItem(f),Promise.resolve(e)},function(e){return o["a"].removeItem(s),o["a"].removeItem(l),o["a"].removeItem(f),Promise.reject(e)})}}]),e}()},abe2:function(e,t,n){},ce55:function(e,t,n){},d259:function(e,t,n){},f4dd:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"row nav"},[r("router-link",{staticClass:"link row",attrs:{to:{name:"main-page"}}},[r("img",{attrs:{src:n("5b1c"),alt:"logo",width:"64",height:"64"}})]),r("user-account")],1)},a=[],o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"user-account-container"},[n("el-dropdown",{attrs:{trigger:"hover"},on:{command:e.handleCommand}},[n("div",[n("i",{staticClass:"user icon"})]),n("el-dropdown-menu",{staticClass:"user-account",attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{staticClass:"user"},[n("i",{staticClass:"icon"}),n("span",{staticClass:"name"},[e._v("用户 "+e._s(e.userName))])]),n("el-dropdown-item",{staticClass:"logout",attrs:{command:"logout"}},[n("i",{staticClass:"icon"}),n("span",{staticClass:"name"},[e._v("退出登陆")])])],1)],1)],1)},i=[],u=n("9ce6"),c=n("3ca2"),s={name:"userAccount",data:function(){return{userName:""}},methods:{handleCommand:function(e){var t=this;"logout"===e&&u["a"].logout().finally(function(){t.$router.push({path:"/login"})})}},mounted:function(){this.userName=c["a"].getLoggedUserName()}},l=s,f=(n("855a"),n("0d0d"),n("2877")),p=Object(f["a"])(l,o,i,!1,null,"70480f72",null);p.options.__file="UserAccount.vue";var m=p.exports,d={components:{UserAccount:m}},v=d,g=(n("5c8f"),Object(f["a"])(v,r,a,!1,null,"2241a6b4",null));g.options.__file="Navigation.vue";t["a"]=g.exports}});
//# sourceMappingURL=app.19a67f9e.js.map